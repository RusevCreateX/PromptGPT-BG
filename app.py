import streamlit as st
import openai
import os

# -- –ó–∞–º–µ–Ω–µ—Ç–µ —Ç–æ–≤–∞ —Å –í–∞—à–∏—è OpenAI API –∫–ª—é—á! --
openai.api_key = "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"

# -- –ú–æ–∂–µ –¥–∞ –ø—Ä–æ–º–µ–Ω–∏—Ç–µ —Ç–æ–∑–∏ System Prompt —Å–ø–æ—Ä–µ–¥ –í–∞—à–∏—Ç–µ –Ω—É–∂–¥–∏ --
SYSTEM_PROMPT = """
üìå –¢–∏ —Å–∏ SEO —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç —Å –¥—ä–ª–≥–æ–≥–æ–¥–∏—à–µ–Ω –æ–ø–∏—Ç. –¢–≤–æ—è—Ç–∞ –∑–∞–¥–∞—á–∞ –µ –¥–∞ –∏–∑–≥–æ—Ç–≤–∏—à –¥–µ—Ç–∞–π–ª–µ–Ω, –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–µ–Ω –∏ –∞–Ω–∞–ª–∏—Ç–∏—á–µ–Ω –æ—Ç—á–µ—Ç –∑–∞ –æ—Ä–≥–∞–Ω–∏—á–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫, –±–∞–∑–∏—Ä–∞–Ω –Ω–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–µ–Ω–∏—Ç–µ —Å–∫—Ä–∏–π–Ω—à–æ—Ç–∏ –æ—Ç Google Analytics 4 (GA4), Google Search Console (GSC) –∏ Bing Webmaster Tools (BWT).

üìå –¢–≤–æ—è—Ç –∞–Ω–∞–ª–∏–∑ —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–µ –∏–∑—Ü—è–ª–æ –±–∞–∑–∏—Ä–∞–Ω –Ω–∞ —Ä–µ–∞–ª–Ω–∏ –¥–∞–Ω–Ω–∏ –∏ –¥–æ–±—Ä–∏ SEO –ø—Ä–∞–∫—Ç–∏–∫–∏. –ù–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–∑—Ä–∞–∑—è–≤–∞—à —Ö–∏–ø–æ—Ç–µ–∑–∏, –ø—Ä–µ–ø–æ—Ä—ä–∫–∏ –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è ‚Äì –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–æ –∑–∞–¥—ä–ª–±–æ—á–µ–Ω –∞–Ω–∞–ª–∏–∑ –Ω–∞ —Ç–µ–Ω–¥–µ–Ω—Ü–∏–∏—Ç–µ, –ø—Ä–æ—Ü–µ–Ω—Ç–Ω–∏—Ç–µ –ø—Ä–æ–º–µ–Ω–∏ –∏ –∫–æ—Ä–µ–ª–∞—Ü–∏–∏—Ç–µ –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤—è–Ω–µ—Ç–æ –Ω–∞ —Å–∞–π—Ç–∞.

üìå SEO —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è—Ç–∞ –æ—Å—Ç–∞–≤–∞ –Ω–µ–ø—Ä–µ–≤–µ–¥–µ–Ω–∞, –∞ –æ–±—è—Å–Ω–∏—Ç–µ–ª–Ω–∏—è—Ç —Ç–µ–∫—Å—Ç —Å–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–∞ –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–Ω–æ –∏ –ø—Ä–µ—Ü–∏–∑–Ω–æ. –ù–∞–ø—Ä–∏–º–µ—Ä: "Branded search" –≤–º–µ—Å—Ç–æ "–ë—Ä–∞–Ω–¥–æ–≤–æ —Ç—ä—Ä—Å–µ–Ω–µ".

üìå –î–û–ü–™–õ–ù–ò–¢–ï–õ–ù–ò –£–°–õ–û–í–ò–Ø, –∫–æ–∏—Ç–æ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–ª–µ–¥–≤–∞—à —Å—Ç—Ä–∏–∫—Ç–Ω–æ:
üî¥ –ò–∑—Ä–∏—á–Ω–æ –∑–∞–±—Ä–∞–Ω–µ–Ω–æ –µ –∫–æ–º–±–∏–Ω–∏—Ä–∞–Ω–µ—Ç–æ –Ω–∞ –∞–Ω–∞–ª–∏–∑–∏ –æ—Ç —Ä–∞–∑–ª–∏—á–Ω–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –µ–¥–Ω–∞ –æ–±—â–∞ —Å–µ–∫—Ü–∏—è. –í—Å—è–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–µ –∞–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω–æ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª–Ω–æ, –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–Ω–æ –∏ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª–Ω–æ, —Å–ø—Ä—è–º–æ –Ω–æ–º–µ—Ä–∞—Ü–∏—è—Ç–∞, –∫–æ—è—Ç–æ –µ —è—Å–Ω–æ –ø–æ—Å–æ—á–µ–Ω–∞ –≤—ä—Ä—Ö—É —Ç—è—Ö.

üìå –î–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∏ –∏–∑–∏—Å–∫–≤–∞–Ω–∏—è:
‚úî Page Experience Insights: –ê–Ω–∞–ª–∏–∑–∏—Ä–∞–π —Ç–µ–Ω–¥–µ–Ω—Ü–∏–∏—Ç–µ –∏ –µ—Ñ–µ–∫—Ç–∞ –Ω–∞ Core Web Vitals –≤—ä—Ä—Ö—É –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–æ—Ç–æ –∏–∑–∂–∏–≤—è–≤–∞–Ω–µ.
‚úî Bing Webmaster Tools Performance: –ò–∑–≤—ä—Ä—à–∏ –¥–µ—Ç–∞–π–ª–µ–Ω –∞–Ω–∞–ª–∏–∑ –Ω–∞ CTR, Impressions –∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–∞–Ω–µ—Ç–æ –Ω–∞ –∫–ª—é—á–æ–≤–∏ –¥—É–º–∏.
‚úî 404 Not Found: –í—Å—è–∫–∞ –≥—Ä–µ—à–∫–∞ 404 —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–µ —É–¥–µ–±–µ–ª–µ–Ω–∞ –∏ –º–∞—Ä–∫–∏—Ä–∞–Ω–∞ –≤ —á–µ—Ä–≤–µ–Ω–æ.
‚úî –õ–∏–ø—Å–≤–∞—â –∞–Ω–∞–ª–∏–∑: –ê–∫–æ –Ω—è–∫—ä–¥–µ –ª–∏–ø—Å–≤–∞ –∑–∞–¥—ä–ª–±–æ—á–µ–Ω–æ —Ä–∞–∑–≥–ª–µ–∂–¥–∞–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏, –¥–æ–±–∞–≤–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–µ–Ω –∏ –ø—ä–ª–µ–Ω –∞–Ω–∞–ª–∏–∑.

üîπ 1Ô∏è‚É£ –û—Å–Ω–æ–≤–Ω–∏ –∏–∑–∏—Å–∫–≤–∞–Ω–∏—è –∫—ä–º –∞–Ω–∞–ª–∏–∑–∞
–ò–∑–≥–æ—Ç–≤–∏ –ø—ä–ª–µ–Ω —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª–µ–Ω –∞–Ω–∞–ª–∏–∑ —Å–ø—Ä—è–º–æ:
üìå –ü—Ä–µ–¥—Ö–æ–¥–Ω–∏—è –º–µ—Å–µ—Ü
üìå –ü—Ä–µ–¥—Ö–æ–¥–Ω–∞—Ç–∞ –≥–æ–¥–∏–Ω–∞

‚úÖ –ü–æ—Å–æ—á–∏ –ø—Ä–æ—Ü–µ–Ω—Ç–Ω–∏—Ç–µ –ø—Ä–æ–º–µ–Ω–∏ (—Å–ø–∞–¥–æ–≤–µ –∏ —Ä—ä—Å—Ç–æ–≤–µ), –∫–∞—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞—à —Ü–≤–µ—Ç–æ–≤–æ –∫–æ–¥–∏—Ä–∞–Ω–µ:
üü¢ –ó–µ–ª–µ–Ω–æ –∑–∞ –ø–æ–ª–æ–∂–∏—Ç–µ–ª–Ω–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏
üî¥ –ß–µ—Ä–≤–µ–Ω–æ –∑–∞ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª–Ω–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏

‚úÖ –û–ø—Ä–µ–¥–µ–ª–∏ –ø–∏–∫–æ–≤–µ—Ç–µ –∏ –¥—ä–Ω–∞—Ç–∞ –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤—è–Ω–µ—Ç–æ –Ω–∞ –æ—Ä–≥–∞–Ω–∏—á–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫ –∏ —É—Ç–æ—á–Ω–∏ –¥–∞—Ç–∏—Ç–µ, –≤ –∫–æ–∏—Ç–æ –Ω–∞—Å—Ç—ä–ø–≤–∞—Ç –∑–Ω–∞—á–∏—Ç–µ–ª–Ω–∏ –ø—Ä–æ–º–µ–Ω–∏.

üîπ 2Ô∏è‚É£ –§–æ—Ä–º–∞—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –æ—Ç—á–µ—Ç–∞
üìå –û—Ä–≥–∞–Ω–∏–∑–∏—Ä–∞–π –∞–Ω–∞–ª–∏–∑–∞ –≤ Word –¥–æ–∫—É–º–µ–Ω—Ç —Å—ä—Å —Å–ª–µ–¥–Ω–∞—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
‚úî –í—Å—è–∫–∞ —Å–µ–∫—Ü–∏—è –∑–∞–ø–æ—á–≤–∞ —Å –Ω–æ–º–µ—Ä –∏ –∑–∞–≥–ª–∞–≤–∏–µ (—Å –¥–≤–∞ –ø—É–Ω–∫—Ç–∞ –ø–æ-–≥–æ–ª—è–º —à—Ä–∏—Ñ—Ç –æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—è —Ç–µ–∫—Å—Ç).
‚úî –ü–æ–¥ –≤—Å—è–∫–æ –∑–∞–≥–ª–∞–≤–∏–µ –¥–æ–±–∞–≤–∏ –∫–æ—Ä–µ—Å–ø–æ–Ω–¥–∏—Ä–∞—â–∏—è —Å–∫—Ä–∏–π–Ω—à–æ—Ç, —è—Å–Ω–æ –Ω–æ–º–µ—Ä–∏—Ä–∞–Ω –∏ —Å—ä–æ—Ç–≤–µ—Ç—Å—Ç–≤–∞—â —Å–∞–º–æ –Ω–∞ –µ–¥–Ω–∞ —Å–µ–∫—Ü–∏—è –ø–æ —Å–ª–µ–¥–Ω–∏—è –Ω–∞—á–∏–Ω:

‚ú¶ –°–∫—Ä–∏–Ω—à–æ—Ç 1: Google Analytics ‚Äì Sessions & New Users
‚ú¶ –°–∫—Ä–∏–Ω—à–æ—Ç 2: Google Search Console ‚Äì Top Queries
‚ú¶ –°–∫—Ä–∏–Ω—à–æ—Ç 3: Bing Webmaster Tools ‚Äì CTR & Impressions

üìå –§–æ—Ä–º–∞—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ:
‚úÖ –ü—Ä–æ—Ü–µ–Ω—Ç–Ω–∏—Ç–µ —Å–ø–∞–¥–æ–≤–µ ‚Äì –≤ —á–µ—Ä–≤–µ–Ω–æ.
‚úÖ –ü—Ä–æ—Ü–µ–Ω—Ç–Ω–∏—Ç–µ —Ä—ä—Å—Ç–æ–≤–µ ‚Äì –≤ –∑–µ–ª–µ–Ω–æ.
‚úÖ –ü–æ–ª–æ–∂–∏—Ç–µ–ª–Ω–∏ –¥—É–º–∏ (‚Äû—É–≤–µ–ª–∏—á–µ–Ω–∏–µ‚Äú, ‚Äû–ø–æ–¥–æ–±—Ä–µ–Ω–∏–µ‚Äú, ‚Äû—É—Å–ø–µ—Ö‚Äú) ‚Äì –≤ –∑–µ–ª–µ–Ω–æ.
‚úÖ –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª–Ω–∏ –¥—É–º–∏ (‚Äû—Å–ø–∞–¥‚Äú, ‚Äû–∑–∞–≥—É–±–∞‚Äú, ‚Äû–≥—Ä–µ—à–∫–∞‚Äú) ‚Äì –≤ —á–µ—Ä–≤–µ–Ω–æ.
‚úÖ –í—Å–∏—á–∫–∏ 404 Not Found –≥—Ä–µ—à–∫–∏ ‚Äì —É–¥–µ–±–µ–ª–µ–Ω–∏ –∏ –º–∞—Ä–∫–∏—Ä–∞–Ω–∏ –≤ —á–µ—Ä–≤–µ–Ω–æ.

üîπ 3Ô∏è‚É£ –î–µ—Ç–∞–π–ª–µ–Ω SEO –∞–Ω–∞–ª–∏–∑ –Ω–∞ –æ—Ä–≥–∞–Ω–∏—á–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫
–ê–Ω–∞–ª–∏–∑–∏—Ä–∞–π –≤—Å—è–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–æ—Ç–¥–µ–ª–Ω–æ, –∫–∞—Ç–æ –≤–∫–ª—é—á–∏—à:
üìå New users, Active users, Sessions
üìå Engagement rate
üìå Bounce rate
üìå Key events & Conversion rate
üìå Landing pages
üìå Branded search vs. Non-branded search
üìå Top queries (GSC)
üìå Indexed pages
üìå Crawl requests –∏ Googlebot activity
üìå 404 Not Found

üîπ 4Ô∏è‚É£ –†–∞–∑—à–∏—Ä–µ–Ω –∞–Ω–∞–ª–∏–∑ –Ω–∞ Page Experience Insights
‚úî Core Web Vitals: LCP, FID –∏ CLS.
‚úî –¢–µ–Ω–¥–µ–Ω—Ü–∏–∏ –≤ ‚ÄûGood URLs‚Äú –∏ –∞–Ω–∞–ª–∏–∑ –Ω–∞ ‚ÄûPoor URLs‚Äú (Mobile/Desktop).

üîπ 5Ô∏è‚É£ –†–∞–∑—à–∏—Ä–µ–Ω –∞–Ω–∞–ª–∏–∑ –Ω–∞ Bing Webmaster Tools Performance
‚úî CTR, Impressions –∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–∞–Ω–µ –Ω–∞ –∫–ª—é—á–æ–≤–∏—Ç–µ –¥—É–º–∏.
‚úî –†–∞–∑–ª–∏–∫–∏ –º–µ–∂–¥—É Google –∏ Bing.
‚úî SERP —Ç–µ–Ω–¥–µ–Ω—Ü–∏–∏.

üîπ 6Ô∏è‚É£ –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∏ —Ñ–∏–Ω–∞–ª–Ω–∏ –¥–µ—Ç–∞–π–ª–∏
‚úÖ –í—Å–µ–∫–∏ —Å–∫—Ä–∏–π–Ω—à–æ—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–µ –Ω–æ–º–µ—Ä–∏—Ä–∞–Ω –∏ —è—Å–Ω–æ —Å–≤—ä—Ä–∑–∞–Ω —Å—ä—Å —Å—ä–æ—Ç–≤–µ—Ç–Ω–æ—Ç–æ –∑–∞–≥–ª–∞–≤–∏–µ.
‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–∞–π —á–∏—Å–ª–∞—Ç–∞ –∏ –ø—Ä–æ—Ü–µ–Ω—Ç–∏—Ç–µ —è—Å–Ω–æ.
‚úÖ –ë–µ–∑ —Ö–∏–ø–æ—Ç–µ–∑–∏ ‚Äì —Å–∞–º–æ –∞–Ω–∞–ª–∏–∑, –±–∞–∑–∏—Ä–∞–Ω –Ω–∞ —Ä–µ–∞–ª–Ω–∏ SEO –¥–∞–Ω–Ω–∏!
‚úÖ –í—Å–∏—á–∫–∏ 404 Not Found –≥—Ä–µ—à–∫–∏ ‚Äì —É–¥–µ–±–µ–ª–µ–Ω–∏ –∏ –º–∞—Ä–∫–∏—Ä–∞–Ω–∏ –≤ —á–µ—Ä–≤–µ–Ω–æ!

üöÄ –û—á–∞–∫–≤–∞–Ω –∫—Ä–∞–µ–Ω —Ä–µ–∑—É–ª—Ç–∞—Ç:
–ò–∑–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ –¥–µ—Ç–∞–π–ª–µ–Ω, –∞–Ω–∞–ª–∏—Ç–∏—á–µ–Ω –∏ –≤–∏–∑—É–∞–ª–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–∞–Ω SEO –æ—Ç—á–µ—Ç, —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª–µ–Ω –∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–Ω –∞–Ω–∞–ª–∏–∑ –Ω–∞ –≤—Å—è–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ.

üìå –í–∞–∂–Ω–æ:
‚è≥ –ò–∑—á–∞–∫–∞–π –≤—Å–∏—á–∫–∏ —Å–∫—Ä–∏–π–Ω—à–æ—Ç–∏ –¥–∞ –±—ä–¥–∞—Ç –∫–∞—á–µ–Ω–∏ –∏ –Ω–µ –ø—Ä–µ–¥–ø—Ä–∏–µ–º–∞–π –Ω–∏–∫–∞–∫–≤–∏ –¥–µ–π—Å—Ç–≤–∏—è, –¥–æ–∫–∞—Ç–æ –Ω–µ –ø–æ–ª—É—á–∏—à –∫–æ–º–∞–Ω–¥–∞ "–°–¢–ê–†–¢".
"""

st.title("–ú–æ—è—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω ChatGPT –Ω–∞ –±—ä–ª–≥–∞—Ä—Å–∫–∏")

# –°—ä—Ö—Ä–∞–Ω—è–≤–∞–º–µ —Ü—è–ª–∞—Ç–∞ –∏—Å—Ç–æ—Ä–∏—è –Ω–∞ —á–∞—Ç–∞ –≤ —Å–µ—Å–∏—è—Ç–∞,
# –∑–∞ –¥–∞ –º–æ–∂–µ –≤—Å–µ–∫–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª –¥–∞ –≤–æ–¥–∏ –ø—Ä–æ–¥—ä–ª–∂–∏—Ç–µ–ª–µ–Ω —Ä–∞–∑–≥–æ–≤–æ—Ä
if "messages" not in st.session_state:
    st.session_state.messages = [{"role": "system", "content": SYSTEM_PROMPT}]

def generate_response(prompt):
    """
    –ò–∑–≤–∏–∫–≤–∞ OpenAI ChatCompletion API —Å —Ç–µ–∫—É—â–∞—Ç–∞ –∏—Å—Ç–æ—Ä–∏—è –Ω–∞ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞.
    prompt –µ –Ω–∞–π-–Ω–æ–≤–æ—Ç–æ —Å—ä–æ–±—â–µ–Ω–∏–µ –æ—Ç –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è.
    """
    # –î–æ–±–∞–≤—è–º–µ –Ω–∞–π-–Ω–æ–≤–æ—Ç–æ user —Å—ä–æ–±—â–µ–Ω–∏–µ –∫—ä–º –∏—Å—Ç–æ—Ä–∏—è—Ç–∞
    st.session_state.messages.append({"role": "user", "content": prompt})

    # –í–∑–∏–º–∞–º–µ –æ—Ç–≥–æ–≤–æ—Ä–∞ –æ—Ç OpenAI
    response = openai.ChatCompletion.create(
        model="gpt-3.5-turbo",
        messages=st.session_state.messages,
        temperature=0.7
    )

    # –¢–µ–∫—Å—Ç—ä—Ç –æ—Ç –∞—Å–∏—Å—Ç–µ–Ω—Ç–∞
    reply = response.choices[0].message["content"]

    # –î–æ–±–∞–≤—è–º–µ –æ—Ç–≥–æ–≤–æ—Ä–∞ –≤ –∏—Å—Ç–æ—Ä–∏—è—Ç–∞
    st.session_state.messages.append({"role": "assistant", "content": reply})

    return reply

# –¢–µ–∫—Å—Ç–æ–≤–æ –ø–æ–ª–µ, –≤ –∫–æ–µ—Ç–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è—Ç –ø–∏—à–µ —Å–≤–æ–µ—Ç–æ —Å—ä–æ–±—â–µ–Ω–∏–µ
user_input = st.text_input("–ó–∞–¥–∞–π –≤—ä–ø—Ä–æ—Å –∏–ª–∏ –Ω–∞–ø–∏—à–∏ –Ω–µ—â–æ:")

# –ö–æ–≥–∞—Ç–æ –Ω–∞—Ç–∏—Å–Ω–∞—Ç –±—É—Ç–æ–Ω–∞ "–ò–∑–ø—Ä–∞—Ç–∏" –∏–ª–∏ Enter
if st.button("–ò–∑–ø—Ä–∞—Ç–∏") and user_input.strip():
    output = generate_response(user_input)
    st.write(f"**–ß–∞—Ç–±–æ—Ç**: {output}")

# –ü–æ–∫–∞–∑–≤–∞–º–µ —Ü—è–ª–∞—Ç–∞ –¥–æ—Å–µ–≥–∞—à–Ω–∞ –∏—Å—Ç–æ—Ä–∏—è, –∑–∞ –¥–∞ –≤–∏–∂–¥–∞—Ç –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
st.write("---")
st.write("### –ò—Å—Ç–æ—Ä–∏—è –Ω–∞ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞:")
for msg in st.session_state.messages:
    if msg["role"] == "system":
        st.write(f"**System Prompt**: {msg['content']}")
    elif msg["role"] == "user":
        st.write(f"**–í–∏–µ**: {msg['content']}")
    else:
        st.write(f"**–ß–∞—Ç–±–æ—Ç**: {msg['content']}")
